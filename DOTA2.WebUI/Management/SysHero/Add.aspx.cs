using DOTA2.IBLL;
using DOTA2.Model;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Text.RegularExpressions;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace DOTA2.WebUI.Management.SysHero
{
    public partial class Add : System.Web.UI.Page
    {
        private IHeroService HeroService = BLLContainer.Container.Resolve<IHeroService>();
        protected void Page_Load(object sender, EventArgs e)
        {
            string Html = "<li type=\"力量\" title=\"亚巴顿\" value=\"npc_dota_hero_abaddon\"><img src=\"https://g.fp.ps.netease.com/market/file/5965be7d7f9d2a022b6908f82blW3Zd5\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"炼金术士\" value=\"npc_dota_hero_alchemist\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee44032587f9aMMAA8ZB3\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"斧王\" value=\"npc_dota_hero_axe\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2a2247a6aa87XgyHJ2Jh\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"兽王\" value=\"npc_dota_hero_beastmaster\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee44032587f99mGwV0ZzJ\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"酒仙\" value=\"npc_dota_hero_brewmaster\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9067f9d2a291db077c27KTvTs2u\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"钢背兽\" value=\"npc_dota_hero_bristleback\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9057f9d2a2b33f0dcf8vl5orpOM\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"半人马战行者\" value=\"npc_dota_hero_centaur\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a1dde77e4b0lUaHKJpg\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"混沌骑士\" value=\"npc_dota_hero_chaos_knight\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee435e058fccd9iXSqOI8\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"发条技师\" value=\"npc_dota_hero_rattletrap\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c903143cfa4de6c8a5beWtZtKG62\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"末日使者\" value=\"npc_dota_hero_doom_bringer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2b33f0dcef7HqgK6L2\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"龙骑士\" value=\"npc_dota_hero_dragon_knight\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90596dee44032587f9fE2ye9jzz\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"大地之灵\" value=\"npc_dota_hero_earth_spirit\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2a2441bea975kMVNiFr8\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"撼地者\" value=\"npc_dota_hero_earthshaker\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9045e6027f703181ed2A8pxjvWi\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"上古巨神\" value=\"npc_dota_hero_elder_titan\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e6027a54279f34cTCh5fpMs\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"哈斯卡\" value=\"npc_dota_hero_huskar\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90296dee435e058fcccAPyGJvDM\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"艾欧\" value=\"npc_dota_hero_wisp\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2af7ffd1cfcdb3hqu9kD\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"昆卡\" value=\"npc_dota_hero_kunkka\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee4fd8eb91aeavAbyjD69\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"军团指挥官\" value=\"npc_dota_hero_legion_commander\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2a291db077bdo4dry3Vv\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"噬魂鬼\" value=\"npc_dota_hero_life_stealer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e6027649582d28aHCRMb6uT\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"狼人\" value=\"npc_dota_hero_lycan\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c902143cfa546227cff1vfrzxtrk\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"马格纳斯\" value=\"npc_dota_hero_magnataur\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a291db077bclFY8dkw2\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"暗夜魔王\" value=\"npc_dota_hero_night_stalker\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90596dee44032587f9dB7ryPsi1\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"全能骑士\" value=\"npc_dota_hero_omniknight\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee41ce4d6db3cR8xLy5ps\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"凤凰\" value=\"npc_dota_hero_phoenix\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c906143cfa2060739e31clcvvmyX\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"帕吉\" value=\"npc_dota_hero_pudge\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2a2441bea976c1wUdhMv\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"沙王\" value=\"npc_dota_hero_sand_king\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9065e6027a54279f34fHlOmcpE4\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"斯拉达\" value=\"npc_dota_hero_slardar\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90596dee42f1c93cc12eqDRGAvy\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"裂魂人\" value=\"npc_dota_hero_spirit_breaker\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfab552ab2e8e61T37bk5\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"斯温\" value=\"npc_dota_hero_sven\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2b33f0dcedBl6S4H0T\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"潮汐猎人\" value=\"npc_dota_hero_tidehunter\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9055e6027aca075ce9bjdmb4glc\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"伐木机\" value=\"npc_dota_hero_shredder\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027f703181eceb4ENIcv4\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"小小\" value=\"npc_dota_hero_tiny\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c903143cfa4de6c8a5bdUI0HQM7u\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"树精卫士\" value=\"npc_dota_hero_treant\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e6027aca075ce98VxtuBxVc\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"巨牙海民\" value=\"npc_dota_hero_tusk\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9057f9d2a2b33f0dcf7JUdmTdp4\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"孽主\" value=\"npc_dota_hero_abyssal_underlord\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2b33f0dcf0R62BBWdF\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"不朽尸王\" value=\"npc_dota_hero_undying\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e60279636a45234NZ53sA0w\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"力量\" title=\"冥魂大帝\" value=\"npc_dota_hero_skeleton_king\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e6027f703181eccyr484zld\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"敌法师\" value=\"npc_dota_hero_antimage\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90396dee44032587f95BNxZOrPl\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"天穹守望者\" value=\"npc_dota_hero_arc_warden\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9045e6027e293fee9feM2jDEwU7\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"嗜血狂魔\" value=\"npc_dota_hero_bloodseeker\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027a54279f34eWKetNyAi\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"赏金猎人\" value=\"npc_dota_hero_bounty_hunter\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2afb76504f27tbGd9Jmu\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"育母蜘蛛\" value=\"npc_dota_hero_broodmother\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9045e602789ab865ae1PtHFImii\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"克林克兹\" value=\"npc_dota_hero_clinkz\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9055e6027e293feea00hjmpd8Bu\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"卓尔游侠\" value=\"npc_dota_hero_drow_ranger\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2441bea9707maqkoXi\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"灰烬之灵\" value=\"npc_dota_hero_ember_spirit\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a291db077b8Y9NZsYeB\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"虚空假面\" value=\"npc_dota_hero_faceless_void\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90696dee44032587fa15qZN9ifu\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"矮人直升机\" value=\"npc_dota_hero_gyrocopter\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c906143cfa2749da4c87xhvTLMCR\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"主宰\" value=\"npc_dota_hero_juggernaut\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfa2060739e2f3236UH8x\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"德鲁伊\" value=\"npc_dota_hero_lone_druid\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c903143cfaad1e6b892cXkW9XOHT\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"露娜\" value=\"npc_dota_hero_luna\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfaf6b2fa3d00jptk9BgZ\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"美杜莎\" value=\"npc_dota_hero_medusa\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027edd8b77874yct2xrbL\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"米波\" value=\"npc_dota_hero_meepo\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee42f1c93cc11oyMNAfsW\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"米拉娜\" value=\"npc_dota_hero_mirana\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2b33f0dcecYsxfkAs7\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"齐天大圣\" value=\"npc_dota_hero_monkey_king\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90696dee42f1c93cc13DWa2Qm9a\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"变体精灵\" value=\"npc_dota_hero_morphling\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c906143cfa9a5fa44338s7yQK5tC\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"娜迦海妖\" value=\"npc_dota_hero_naga_siren\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90296dee43f68989ae6oIjQC3OP\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"司夜刺客\" value=\"npc_dota_hero_nyx_assassin\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2a1dde77e4b2ft6BNpi7\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"幻影刺客\" value=\"npc_dota_hero_phantom_assassin\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c905143cfa63fa2ecec27rrl51q8\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"幻影长矛手\" value=\"npc_dota_hero_phantom_lancer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027f703181ed1o2PyocMZ\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"剃刀\" value=\"npc_dota_hero_razor\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027f703181ecfzcNJECSO\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"力丸\" value=\"npc_dota_hero_riki\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c905143cfa2060739e30MD4t4utz\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"影魔\" value=\"npc_dota_hero_nevermore\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a1dde77e4afusCOEaoQ\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"斯拉克\" value=\"npc_dota_hero_slark\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9057f9d2a2b33f0dcf5QDa7odFx\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"狙击手\" value=\"npc_dota_hero_sniper\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c903143cfaad1e6b892dHbiAUxJY\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"幽鬼\" value=\"npc_dota_hero_spectre\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c905143cfa546227cffbAurESTJR\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"圣堂刺客\" value=\"npc_dota_hero_templar_assassin\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e6027aca075ce9968fuaDJa\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"恐怖利刃\" value=\"npc_dota_hero_terrorblade\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c905143cfa546227cff9T8u4rpfL\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"巨魔战将\" value=\"npc_dota_hero_troll_warlord\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90596dee44032587f9cQEA1RFi4\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"熊战士\" value=\"npc_dota_hero_ursa\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee437bcc88fa1W0C2aSWK\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"复仇之魂\" value=\"npc_dota_hero_vengefulspirit\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a291db077b7TBRilGLc\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"剧毒术士\" value=\"npc_dota_hero_venomancer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2441bea96fwdNddE1w\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"冥界亚龙\" value=\"npc_dota_hero_viper\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90496dee44032587f98L8I4WdsP\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"编织者\" value=\"npc_dota_hero_weaver\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9065e6027e293feea03dxkYIGzr\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"敏捷\" title=\"石鳞剑士\" value=\"npc_dota_hero_pangolier\"><img src=\"https://g.fp.ps.netease.com/market/file/5a1fb2ac5e60277dfdfe11e8tsDWFLzv\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"远古冰魄\" value=\"npc_dota_hero_ancient_apparition\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfa4de6c8a5c0tQ4FaOyZ\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"祸乱之源\" value=\"npc_dota_hero_bane\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027e293fee9fbjrggeilH\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"蝙蝠骑士\" value=\"npc_dota_hero_batrider\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90296dee435e058fccb6ku5EGGV\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"陈\" value=\"npc_dota_hero_chen\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c903143cfab552ab2e8dUj1UfxyU\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"水晶室女\" value=\"npc_dota_hero_crystal_maiden\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c906143cfa546227cffd6bRwNbkl\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"黑暗贤者\" value=\"npc_dota_hero_dark_seer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a27d70d41a57d4RQ2YZ\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"戴泽\" value=\"npc_dota_hero_dazzle\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c905143cfa546227cffa1TZufiRt\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"死亡先知\" value=\"npc_dota_hero_death_prophet\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e6027e293fee9faRYmJqpZB\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"干扰者\" value=\"npc_dota_hero_disruptor\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9065e6027f703181ed8FI7b8dht\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"魅惑魔女\" value=\"npc_dota_hero_enchantress\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027f703181ed0E27jAdaq\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"谜团\" value=\"npc_dota_hero_enigma\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a291db077bapbAiza7i\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"祈求者\" value=\"npc_dota_hero_invoker\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9067f9d2af7ffd1cfceMy6AY86f\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"杰奇洛\" value=\"npc_dota_hero_jakiro\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2a1dde77e4b3jzlZTJLu\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"光之守卫\" value=\"npc_dota_hero_keeper_of_the_light\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e6027e293fee9fcrPKKCsdP\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"拉席克\" value=\"npc_dota_hero_leshrac\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90396dee4608981df1f2Ht2ieDX\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"巫妖\" value=\"npc_dota_hero_lich\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a2b33f0dcf27pxFf63M\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"莉娜\" value=\"npc_dota_hero_lina\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9067f9d2a27d70d41a8iUTlAPak\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"莱恩\" value=\"npc_dota_hero_lion\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfa0df74f0e91QXCHOVOP\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"先知\" value=\"npc_dota_hero_furion\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfa546227cff4drVvbqw6\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"瘟疫法师\" value=\"npc_dota_hero_necrolyte\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a2441bea973Bbkukuio\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"食人魔魔法师\" value=\"npc_dota_hero_ogre_magi\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90696dee41ce4d6db3d0aKFDbhH\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"神谕者\" value=\"npc_dota_hero_oracle\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2247a6aa85jDFtDadi\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"殁境神蚀者\" value=\"npc_dota_hero_obsidian_destroyer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9025e602788f8b2688dZLeGTBvS\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"帕克\" value=\"npc_dota_hero_puck\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c903143cfa546227cff2K9aaNWe0\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"帕格纳\" value=\"npc_dota_hero_pugna\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9027f9d2a2441bea971wASDcLiT\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"痛苦女王\" value=\"npc_dota_hero_queenofpain\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9055e602789ab865ae4ro3RhFiX\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"拉比克\" value=\"npc_dota_hero_rubick\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9035e602789ab865ae0HcbSNH0J\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"暗影恶魔\" value=\"npc_dota_hero_shadow_demon\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c902143cfa546227cff0dtBi7Eb8\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"暗影萨满\" value=\"npc_dota_hero_shadow_shaman\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2a27d70d41a4vlzgSm9l\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"沉默术士\" value=\"npc_dota_hero_silencer\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9067f9d2afb76504f2awrsv3B0E\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"天怒法师\" value=\"npc_dota_hero_skywrath_mage\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c904143cfa546227cff7r3EUbVUl\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"风暴之灵\" value=\"npc_dota_hero_storm_spirit\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9055e6027e293fee9ffJT1ReKY3\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"工程师\" value=\"npc_dota_hero_techies\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9047f9d2afb76504f28PpH5mbXP\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"修补匠\" value=\"npc_dota_hero_tinker\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9037f9d2afd94b3708ckJuuuyZb\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"维萨吉\" value=\"npc_dota_hero_visage\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9045e602789ab865ae2ltqQLrBR\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"术士\" value=\"npc_dota_hero_warlock\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9055e6027f703181ed3m0Qh4Buo\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"风行者\" value=\"npc_dota_hero_windrunner\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90596dee4608981df22SN9UMlkh\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"寒冬飞龙\" value=\"npc_dota_hero_winter_wyvern\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c902143cfa546227cfeeN4kb2GjF\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"巫医\" value=\"npc_dota_hero_witch_doctor\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c9067f9d2a27d70d41a7sAJTo4Bc\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"宙斯\" value=\"npc_dota_hero_zuus\"><img src=\"https://g.fp.ps.netease.com/market/file/5965c90596dee44032587f9eTN3mtc05\" width=\"70\" height=\"40\"><i></i></li>,<li type=\"智力\" title=\"邪影芳灵\" value=\"npc_dota_hero_dark_willow\"><img src=\"https://g.fp.ps.netease.com/market/file/5a1fb2c8143cfaba46525c1fmSVeN02s\" width=\"70\" height=\"40\"><i></i></li>";
            foreach (string Item in Html.Split(','))
            {
                Hero hero = new Hero();
                hero.ID = Guid.NewGuid();
                hero.NameCN = GetTitleContent(Item, "li", "title");
                hero.NameEN = GetTitleContent(Item, "li", "value").Split('_')[3];
                hero.NameEN = hero.NameEN.Substring(0, 1).ToUpper() + hero.NameEN.Substring(1);
                hero.Type = GetTitleContent(Item, "li", "type");

                try
                {
                    string ImgUrl = GetTitleContent(Item, "img", "src");
                    WebRequest imgRequest = WebRequest.Create(ImgUrl);
                    HttpWebResponse Res = (HttpWebResponse)imgRequest.GetResponse();
                    if (Res.StatusCode.ToString() == "OK")
                    {
                        System.Drawing.Image downImage = System.Drawing.Image.FromStream(imgRequest.GetResponse().GetResponseStream());

                        string Dertory = Server.MapPath("/Image/Hero/");
                        string FileName = string.Format("{0}-{1}.png", hero.NameEN, Guid.NewGuid().ToString().ToUpper());
                        if (!Directory.Exists(Dertory))
                        {
                            Directory.CreateDirectory(Dertory);
                        }
                        downImage.Save(Dertory + FileName);
                        downImage.Dispose();

                        hero.ImgUrl = FileName;
                        HeroService.Add(hero);
                    }
                }
                catch (Exception ex)
                {

                }
            }
        }

        /// <summary>  
        /// 获取字符中指定标签的值  
        /// </summary>  
        /// <param name="str">字符串</param>  
        /// <param name="title">标签</param>  
        /// <returns>值</returns>  
        public static string GetTitleContent(string str, string title)
        {
            string tmpStr = string.Format("<{0}[^>]*?>(?<Text>[^<]*)</{1}>", title, title); //获取<title>之间内容  

            Match TitleMatch = Regex.Match(str, tmpStr, RegexOptions.IgnoreCase);

            string result = TitleMatch.Groups["Text"].Value;
            return result;
        }

        /// <summary>  
        /// 获取字符中指定标签的值  
        /// </summary>  
        /// <param name="str">字符串</param>  
        /// <param name="title">标签</param>  
        /// <param name="attrib">属性名</param>  
        /// <returns>属性</returns>  
        public static string GetTitleContent(string str, string title, string attrib)
        {

            string tmpStr = string.Format("<{0}[^>]*?{1}=(['\"\"]?)(?<url>[^'\"\"\\s>]+)\\1[^>]*>", title, attrib); //获取<title>之间内容  

            Match TitleMatch = Regex.Match(str, tmpStr, RegexOptions.IgnoreCase);

            string result = TitleMatch.Groups["url"].Value;
            return result;
        }
    }
}